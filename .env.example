# ============================================
# Le Syndicat des Tox - Environment Configuration
# ============================================
# IMPORTANT: Copy this file to .env and update with your actual values
# Never commit .env to git!
#
# Generate secrets with:
#   Session Secret: openssl rand -base64 32
#   DB Password:    openssl rand -base64 24
#   Redis Password: openssl rand -base64 24

# ============================================
# CRITICAL SECRETS - MUST CHANGE THESE
# ============================================

# Session Secret (REQUIRED)
# Generate with: openssl rand -base64 32
SESSION_SECRET=CHANGE_THIS_RANDOM_SECRET_KEY

# Database Password (REQUIRED)
# Generate with: openssl rand -base64 24
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD

# Redis Password (REQUIRED if you set requirepass in redis.conf)
# Generate with: openssl rand -base64 24
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# ============================================
# APPLICATION CONFIGURATION
# ============================================

NODE_ENV=production
PORT=3000
HOST=127.0.0.1

# ============================================
# DATABASE CONFIGURATION
# ============================================

DB_HOST=localhost
DB_PORT=3306
DB_NAME=syndicat_tox
DB_USER=syndicat_app

# ============================================
# REDIS CONFIGURATION
# ============================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Application Security
APP_DOMAIN=syndicat-tox.be
HTTPS_ONLY=true
TRUST_PROXY=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log
ERROR_LOG_FILE=logs/error.log

# Language Settings
DEFAULT_LANGUAGE=fr
SUPPORTED_LANGUAGES=fr,nl,de,en

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Le site est en maintenance. Nous revenons bient√¥t."

# Emergency Contacts (encrypted)
EMERGENCY_CONTACT_PRIMARY=encrypted_contact_1
EMERGENCY_CONTACT_SECONDARY=encrypted_contact_2

# Feature Flags
FEATURE_REGISTRATION=true
FEATURE_SEARCH=true
FEATURE_REPORTING=true
FEATURE_MODERATION=true
FEATURE_USER_EXPORT=true
FEATURE_USER_DELETION=true

# Content Limits
MAX_THREAD_TITLE_LENGTH=200
MAX_THREAD_BODY_LENGTH=10000
MAX_REPLY_LENGTH=5000
EDIT_WINDOW_MINUTES=15

# Pagination
DEFAULT_PAGE_SIZE=25
MAX_PAGE_SIZE=50

# Auto-moderation
AUTO_MODERATION_ENABLED=true
AUTO_HIDE_REPORT_THRESHOLD=10

# Session Settings
SESSION_DURATION_DAYS=7
SESSION_ROLLING=true

# ============================================
# TEST ENVIRONMENT (for npm test)
# ============================================

TEST_DB_HOST=localhost
TEST_DB_PORT=3306
TEST_DB_NAME=syndicat_tox_test
TEST_DB_USER=test_user
TEST_DB_PASSWORD=test_password
TEST_REDIS_DB=1

# ============================================
# DEVELOPMENT ONLY (remove in production)
# ============================================

# DEV_DISABLE_CSRF=false
# DEV_DISABLE_RATE_LIMIT=false
# DEV_VERBOSE_ERRORS=false