<%- include('../partials/header') %>

<h2><%= t('auth.login') %></h2>

<% if (typeof error !== 'undefined' && error) { %>
<div class="alert alert-error">
    <%= error %>
</div>
<% } %>

<div style="max-width: 500px;">
    <form method="POST" action="/auth/login">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="form-group">
            <label for="pseudo"><%= t('auth.pseudo') %></label>
            <input
                type="text"
                id="pseudo"
                name="pseudo"
                required
                value="<%= typeof pseudo !== 'undefined' ? pseudo : '' %>"
                autocomplete="off"
            >
        </div>

        <div class="form-group">
            <label for="pin"><%= t('auth.pin') %></label>
            <input
                type="password"
                id="pin"
                name="pin"
                required
                pattern="[0-9]{4}"
                maxlength="4"
                inputmode="numeric"
                autocomplete="off"
            >
            <p class="text-small"><%= t('auth.rememberPIN') %></p>
        </div>

        <button type="submit" class="btn"><%= t('auth.login') %></button>
        <a href="/auth/register" class="btn btn-secondary" style="margin-left: 1rem;"><%= t('nav.register') %></a>
    </form>
</div>

<%- include('../partials/footer') %>
